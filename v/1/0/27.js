(function(){const e=10,t=90,s=0,o=1,r=1,i=.5,n=.5,a=.5,l=16,d='[studio-form="submit"], [studio-form="next"], .w-button:not([studio-form="Not a Button"]):not([studio-form="no-button"]):not([studio-form="prev"])';function u(e,t){const s=e.sdk.events,o=e.view.eventsFunctionArrays;o[`on${t}`]=[],o[`after${t}`]=[],s[`on${t}`]=function(...e){m(e,o[`on${t}`])},s[`after${t}`]=function(...e){m(e,o[`after${t}`])}}function c(e){e.forEach((e=>e()))}function m(e,t){function s(e){"function"==typeof e&&t.push(e)}e.forEach?e.forEach((e=>s(e))):s(e)}function f(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}const p=function(e,t="standard"){return new Promise((function(s,o){setTimeout((function(){o(new Error(`Request took too long! Timeout after ${e/("quick"===t?10:1)} second`))}),1e3*e/("quick"===t?10:1))}))},g=async function(t,s={},o=e){try{const e=await Promise.race([fetch(t,s),p(o)]);let r={message:"Unable to format response as JSON."};try{r=await e.json()}catch(e){console.warn("helper.ts -> getJson: ",e)}if(!e.ok)throw new Error(`${r.message} (${e.status})`);return r}catch(e){throw e}};function h(e){if(!f(e.elements.wrapper))throw new Error(`StudioForm[${e.sdk.i}] -> modes.ts -> default: state.elements.wrapper is not an element`);e.modes={};const t=e.modes,s=e.elements.wrapper;t.simpleSdk="true"===(s.getAttribute("data-simplified-sdk")||"true"),t.removeVisualDividers="true"===(s.getAttribute("data-remove-dividers")||"true"),t.removeConditionallyInvisibeSlides="true"===(s.getAttribute("data-remove-conditionally-invisible-slides")||"true"),t.isJotFrom="true"===(s.getAttribute("data-jot-form-mode")||"false"),t.isWfForm=s.classList.contains("w-form"),t.isSlider=!t.isWfForm||"true"===(s.getAttribute("data-slider-mode")||"false"),t.removeRequiredAttributeFromCheckboxAndRadioOnlys="true"===(s.getAttribute("data-remove-required-from-checkbox-or-radio-only-steps")||"true"),t.swapSubmitButtons="true"===(s.getAttribute("data-swap-submit-buttons")||"true"),t.calculateProgress="true"===(s.getAttribute("data-calculate-progress")||"false"),t.autoRemoveButtonSuggestion="true"===(s.getAttribute("data-auto-remove-button-suggestion")||"true"),t.autoSuggestButtons="true"===(s.getAttribute("data-auto-suggest-buttons")||"true"),t.scrollToTarget="true"===(s.getAttribute("data-auto-scroll-to-target")||"true"),t.waitForAnimations="true"===(s.getAttribute("data-wait-for-animations")||"false"),t.hideErrorMessageOnClick="true"===(s.getAttribute("data-hide-error-message-on-click")||"true"),t.scrollOnRequirementsError="true"===(s.getAttribute("data-scroll-on-requirements-error")||"true"),t.forceScrollOnRequirementsError="true"===(s.getAttribute("data-force-scroll-on-requirements-error")||"false"),t.nativeReportVadility="true"===(s.getAttribute("data-native-report-validity")||"true"),t._100PercentProgressOnSubmitOnly="true"===(s.getAttribute("data-100-percent-progress-on-submit-only")||"true"),t.fieldParamsRedirect="true"===(s.getAttribute("data-field-params-redirect")||"true"),t.scrollIfTopNotVisible="true"===(s.getAttribute("data-scroll-if-top-not-visible")||"true")}function b(e,t){const s=e.querySelectorAll("input, select, textarea"),o=e.querySelectorAll(d),r=s.length<1;let i=o.length<1,n=!0;i&&s.forEach((e=>{"radio"!==e.getAttribute("type")&&(i=!1)})),n&&s.forEach((e=>{"checkbox"!==e.getAttribute("type")&&(n=!1)}));let a="standard";n&&(a="checkbox"),i&&(a="radio"),r&&(a="empty");const l=e.getAttribute("data-slide-type");return l&&""!==l&&(a=l),t.modes.removeRequiredAttributeFromCheckboxAndRadioOnlys&&(i||n)&&s.forEach((e=>e.removeAttribute("required"))),a}function k(e,t,s){const o=t.querySelectorAll("input, select, textarea"),r=t.querySelectorAll(d),i=[];function n(e,t){const s={};s.i=t,s.el=e,s.conditional=e?.getAttribute("data-conditional")||"",s.next="submit"!==e?.getAttribute("studio-form"),i.push(s)}return"radio"===e?(o.forEach(((e,t)=>{n(e.closest('label, [studio-form="label"]'),t)})),i):(r.forEach(((e,t)=>{n(e,t)})),i)}function y(e,t){if(!t.modes.swapSubmitButtons)return;const s=e.querySelectorAll('input[type="submit"]');s.length<1||s.forEach((e=>{const t=e.attributes,s={};for(const e of t)s[e.name]=e.value;const o=document.createElement("a");for(const e in s)o.setAttribute(e,s[e]);o.removeAttribute("type"),o.removeAttribute("value"),o.setAttribute("studio-form","submit"),o.innerHTML=e.getAttribute("value")||"",e.after(o),e.remove()}))}function v(e){const t=E[e],s=[];for(let e=0,o=t.elements.slides.length;e<o;e++){const o=t.elements.slides[e],r={};r.i=e,r.el=o,y(o,t),r.type=b(o,t),r.btns=k(r.type,o),r.conditionalNext="true"===(o.getAttribute("data-conditional-next")||"false"),r.conditional=o.getAttribute("data-conditional")||"",s.push(r)}s.forEach((e=>{if(e.btns.length<1){e.btns=!1;let t=!1;return t=(()=>{for(let t=0,o=s.length;t<o;t++){const o=s[t];if(o.i>e.i&&""===o.conditional&&!1===o.conditionalNext)return o.i}})(),e.i<s.length-1&&!0===s[e.i+1]?.conditionalNext&&(t=e.i+1),e.i>=s.length-1&&(t=!1),void(e.next=t)}e.btns.every((o=>{if(!1===o.next)return!0;if(o.el.setAttribute("studio-form","next"),e.i>=s.length-1)return o.next=!1,o.el.setAttribute("studio-form","submit"),!0;if(""!==o.conditional){let r;if(s.every((e=>o.conditional!==e.conditional||(r=e,!1))),r){let t=r.i;t<=e.i&&(o.conditionalPrev=!0),o.next=t}else console.warn(`StudioForm[${t.sdk.i}] -> slideLogic.ts -> default -> slideLogic.forEach() callback -> slide.btns.every() callback: The partner slide for btns[${o.i}].conditional === '${o.conditional}' (in state.elements.slides[${e.i}]) has not been found.`),o.el.setAttribute("studio-form","submit"),o.next=!1;return!0}return!0===s[e.i+1]?.conditionalNext?(o.next=e.i+1,!0):(o.next=(()=>{for(let t=0,o=s.length;t<o;t++){const o=s[t];if(o.i>e.i&&""===o.conditional&&!1===o.conditionalNext)return o.i}})(),!0)}))})),t.sdk.slideLogic=s}function w(e){const t=E[e];if(t.sdk.slideLogic.length<1||t.sdk.slideRecord.length<1)throw new Error(`StudioForm[${t.sdk.i}] -> calculateProgress.ts -> default: state.sdk.slideLogic.length and/or state.sdk.slideRecord.length can't equal 0`);const s=t.sdk.slideLogic,o=t.sdk.slideRecord,r=o[o.length-1],i=o.length;let n=s.length,a=0,l=0,d=0,u=[];!function e(o){let r=function(e){let t=[];e.btns?e.btns.forEach((e=>{-1!==t.indexOf(e.next)||e.conditionalPrev||t.push(e.next)})):t.push(e.next);return t}(o);l++,d++,[...r].filter((e=>!1!==e)).length>1&&(u.push(d),d=0);let i=!1;!1!==o.btns?o.btns.every((e=>!1!==e.next&&void 0!==e.next||(a=Math.max(a,l),n=Math.min(n,l),l=0,u.forEach((e=>{l+=e})),u.pop(),i=!0,!1))):!1!==o.next&&void 0!==o.next||(a=Math.max(a,l),n=Math.min(n,l),l=0,u.forEach((e=>{l+=e})),u.pop(),i=!0),i||r.forEach((r=>{void 0!==r?!1!==r&&e(s[r]):console.warn(`StudioForm[${t.sdk.i}] -> calculateProgress.ts -> defaul -> objectLoop -> array.forEach() callback: id === undefined`,o)}))}(s[r]),n+=i-1,a+=i-1;const c=t.modes._100PercentProgressOnSubmitOnly?1:0;return{shortest:{percentage:i/(n+c)*100,path:n,walked:i},longest:{percentage:i/(a+c)*100,path:a,walked:i}}}function A(e,t,s){if(!0===s.doNotCheckSlideRequirements)return!0;const o=E[e],r=o.sdk.slideLogic[t],i=[];if(!0===o.modes.isSlider)return!0;if("empty"===r.type)return!0;if("checkbox"===r.type){const e=r.el.querySelectorAll('input[type="checkbox"]');let t=!1;return e.forEach((e=>{"on"===e.value&&(t=!0)})),o.sdk.slideRequirementsData=i,!!t||(e.forEach((e=>i.push({el:e,msg:"nothing checked",regExp:void 0}))),o.sdk.slideRequirementsData=i,o.view.renderRequirements(i),!1)}if("radio"===r.type){const e=r.el.querySelectorAll('input[type="radio"]');let t=!1;return e.forEach((e=>{e.hasAttribute("data-selected")&&(t=!0)})),o.sdk.slideRequirementsData=i,!!t||(e.forEach((e=>i.push({el:e,msg:"nothing selected",regExp:void 0}))),o.sdk.slideRequirementsData=i,o.view.renderRequirements(i),!1)}if("standard"===r.type){r.el.querySelectorAll("input, select, textarea").forEach(((e,t)=>{e.setAttribute("data-sf-input-id",t.toString())}));const e=r.el.querySelectorAll('input[type="radio"]'),t=[];return e.forEach((e=>{-1===t.indexOf(e.name)&&t.push(e.name)})),t.forEach((e=>{const t=r.el.querySelectorAll(`input[type="radio"][name="${e}"]`);let s=!1;t.forEach((e=>{e.hasAttribute("data-selected")&&(s=!0)})),s||t.forEach((e=>i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"nothing selected",regExp:void 0})))})),r.el.querySelectorAll("input, select, textarea").forEach((e=>{if("radio"!==e.type&&e.hasAttribute("required"))if(""!==e.value){if(e.getAttribute("data-regex")||e.getAttribute("data-reg-exp"))try{const t=new RegExp(e.getAttribute("data-regex")||e.getAttribute("data-reg-exp")||"");return t.test(e.value)?void 0:void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"custom regular expression",regExp:t})}catch(t){console.warn(`StudioForm[${o.sdk.i}] -> requirements.ts -> default -> forEach() callback: Unvalid regex test!`,e)}if("email"===e.type){const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(!t.test(e.value))return void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"email",regExp:t})}if("tel"===e.type){const t=/^[\d\s\-\+\(\)\.\/*#]+$/;if(!t.test(e.value))return void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"telephone",regExp:t})}if("number"===e.type){const t=/^-?(\d+|\d{1,3}(,\d{3})*)(\.\d+)?$/;if(!t.test(e.value))return void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"number",regExp:t})}}else i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"empty",regExp:void 0})})),i.sort(((e,t)=>e.i-t.i)),r.el.querySelectorAll("input, select, textarea").forEach((e=>{e.removeAttribute("data-sf-input-id")})),o.sdk.slideRequirementsData=i,!(i.length>0)||(o.view.renderRequirements(i),!1)}return!!r.el.getAttribute("data-requirements","true")}async function S(t){const s=E[t],o=s.elements.mask;let r="POST",i="https://webflow.com/api/v1/form/"+document.querySelector("html")?.getAttribute("data-wf-site");if(!f(o))throw new Error(`StudioForm[${s.sdk.i}] -> post.ts -> default: Couldn't find form!`);const n=[],a=[];let l={name:o.getAttribute("data-name"),pageId:document.querySelector("html")?.getAttribute("data-wf-page"),elementId:o.getAttribute("data-wf-element-id"),source:location.href};s.sdk.slideRecord.forEach((e=>{s.sdk.slideLogic[e].el.querySelectorAll("input, select, textarea").forEach((e=>{const t=e.getAttribute("data-name")||e.getAttribute("name")||e.getAttribute("id")||e.getAttribute("class")||e.getAttribute("type")||e.tagName;if("radio"!==e.type||e.hasAttribute("data-selected"))if("file"!==e.type)n.push({key:t,value:e.value});else if(e.files)for(let s=0,o=e.files.length;s<o;s++)a.push({key:`${t}][${s}`,value:e.files[s]})}))}));let d=!1;(s.modes.isJotFrom||(o.getAttribute("action")||"").indexOf("jotform.com/submit")>-1)&&(d=!0,l={});const u=a.length>0;n.forEach((e=>{d?l[`${e.key}`]=e.value:l[`fields[${e.key}]`]=e.value})),a.forEach((e=>{d?l[`${e.key}]`]=e.value:l[`files[${e.key}]`]=e.value}));const c=u?new FormData:new URLSearchParams;for(const e in l)c.append(e,l[e]);if(o.getAttribute("action")){r=(o.getAttribute("method")||"").toUpperCase(),i=o.getAttribute("action")||"";const e=(o.getAttribute("data-method")||s.elements.wrapper.getAttribute("data-method")||"").toUpperCase();["GET","PUT","POST","PATCH","DELETE"].includes(e)&&(r=e)}const m={Accept:o.getAttribute("data-headers-accept")||"application/json, text/javascript, */*; q=0.01","Content-Type":o.getAttribute("data-headers-content-type")||"application/x-www-form-urlencoded; charset=UTF-8"},p=!(!o.getAttribute("data-headers-accept")&&!o.getAttribute("data-headers-content-type")),h={method:r,headers:m,body:u?c:c.toString()};if(u&&!p&&delete h.headers,"GET"===r){p||delete h.headers,delete h.body;const e=new URL(i),t=e.searchParams;for(const e of n)t.append(e.key,e.value);e.search=t.toString(),i=e.href}let b,k,y="done";try{b=await g(i,h,parseInt(s.elements.wrapper.getAttribute("data-form-submit-timeout-sec")||e.toString()))}catch(e){console.error(`StudioForm[${s.sdk.i}] -> post.ts -> default -> await fetch(): `,e),y="fail",b=e}if(o.getAttribute("redirect"))try{const e=o.getAttribute("redirect")||"";let t="";/^(https?:\/\/)/i.test(e)||(t=location.protocol+"//"+(e.startsWith("/")?location.hostname:""));let r=new URL(t+e);if(s.modes.fieldParamsRedirect){const e=r.searchParams;for(const t of n)e.append(t.key,t.value);r.search=e.toString()}k=r.href}catch(e){console.error(`StudioForm[${s.sdk.i}] -> post.ts -> default -> try { ... redirect url ... } catch: `,e)}return s.sdk.data.endpoint=i,s.sdk.data.options=h,s.sdk.data.method=r,s.sdk.data.payload=l,s.sdk.data.response=b,s.sdk.data.status=y,s.sdk.data.redirect=k,b}const E=[];function x(e,t){const s={elements:{}};s.elements.wrapper=e,s.sdk={},s.sdk.i=t,s.sdk.events={},s.sdk.animationData={},s.sdk.register={},s.sdk.slideRecord=[0],h(s),s.view={},s.view.eventsFunctionArrays={},s.view.gsapTimeline={},s.view.gsapProgressBarTimeline={},s.model={},s.model.generateSlideLogic=function(){v(t)},s.sdk.data={},s.model.post=async function(){return S(t)},s.model.generateProgressData=function(){const e=w(t);s.sdk.pathProgressData=e};const o=s.view.eventsFunctionArrays;u(s,"CheckSlideRequirements"),s.sdk.slideRequirementsData={},s.sdk.slideRequirements=function(e,s={}){c(o.onCheckSlideRequirements);const r=A(t,e,s);return c(o.afterCheckSlideRequirements),r},E.push(s)}function q(e){const t=e.elements,s=e.elements.wrapper;function o(t,...s){return s.map((s=>{const o=`[studio-form="${s}"]`;return t?`[data-sf-id="${e.sdk.i}"] `+o+`,[studio-form-${e.sdk.i}="${s}"]`:o})).join(",")}s.setAttribute("data-sf-id",e.sdk.i),t.mask=s.querySelector(o(!1,"mask"))||s.querySelector("form")||s.querySelector("*");const r=document.querySelectorAll(o(!0,"Visual Divider","visual-divider","divider"));e.modes.removeVisualDividers&&r.forEach((e=>e.remove())),e.modes.removeConditionallyInvisibeSlides&&t.mask?.childNodes.forEach((e=>{e.classList.contains("w-condition-invisible")&&e.remove()})),t.slides=t.mask?.querySelectorAll(o(!1,"slide")),0===t.slides?.length&&(t.slides=t.mask?.childNodes),e.modes.isWfForm&&(t.successMsg=s.querySelector(".w-form-done"),t.errorMsg=s.querySelector(".w-form-fail")),Object.keys(t).every((s=>{if(NodeList.prototype.isPrototypeOf(t[s])||HTMLCollection.prototype.isPrototypeOf(t[s])){if(t[s].length<1)throw new Error(`StudioForm[${e.sdk.i}] -> elements.ts -> default: state.elements.${s}.length is 0`);return!0}if(!f(t[s]))throw new Error(`StudioForm[${e.sdk.i}] -> elements.ts -> default: state.elements.${s} is not an element`);return!0})),t.progress={},t.progress.bars=document.querySelectorAll(o(!0,"progress-bar")),t.progress.currentSlides=document.querySelectorAll(o(!0,"current-slide")),t.progress.minMaxSlides=document.querySelectorAll(o(!0,"min-max-slides")),t.progress.minSlides=document.querySelectorAll(o(!0,"min-slides")),t.progress.maxSlides=document.querySelectorAll(o(!0,"max-slides")),t.prevBtns=[],document.querySelectorAll(o(!0,"prev","Backwards Button")).forEach((e=>t.prevBtns.push(e))),t.nextBtns=[];for(let e=0,o=s.childNodes.length;e<o;e++){const o=s.childNodes[e];o.isEqualNode(t.mask)||["next","Continue Button"].forEach((e=>{o.querySelectorAll(`[studio-form="${e}"]`).forEach((e=>{t.nextBtns.push(e)}))}))}document.querySelectorAll(`[studio-form-${e.sdk.i}="next"`).forEach((e=>t.nextBtns.push(e))),t.responseData=s.querySelectorAll(o(!0,"response-data","response"))}function F(e,t){const s=E[e];let o;const r=s.sdk.slideRecord[s.sdk.slideRecord.length-1];if(!0===s.modes.waitForAnimations&&!0!==t.doNotWaitForAnimations&&!0===s.view.gsapTimeline.isRunning){const e=`StudioForm[${s.sdk.i}] -> next.ts -> default: The animation is not yet finished!`;return console.warn(e),e}if(!0===s.sdk.isSubmitted){const e=`StudioForm[${s.sdk.i}] -> next.ts -> default: Form already submitted!`;return console.warn(e),e}if(t.btn&&(o=t.btn.next),!t.btn){const e=s.sdk.slideLogic[r];if(!e)throw new Error(`StudioForm[${s.sdk.i}] -> next.ts -> default: Unable to find the current slide!`);if(!1===e.btns)o=e.next;else if(1===e.btns.length)o=e.btns[0].next;else{let t,i=!1;if(e.btns.every((e=>!e.suggested||(o=e.next,i=!0,t=e.i,!1))),i){return e.btns[t].el.click(),{msg:`StudioForm[${s.sdk.i}] -> state.sdk.slideLogic[${e.i}] -> .btns[${t}] was clicked!`,slideId:e.i,buttonId:t}}if(!i)return s.modes.autoSuggestButtons&&s.sdk.suggestButton(r,0),{msg:`StudioForm[${s.sdk.i}] -> state.sdk.slideLogic[${e.i}] -> .btns[0] was suggested!`,slideId:e.i,buttonId:0}}}if(void 0===o&&(o=!1),"number"!=typeof o&&!1!==o)throw new Error(`StudioForm[${s.sdk.i}] -> next.ts -> default: Unable to find a logical next slide!`);if(!1===o)return void s.sdk.submit(t);if(!s.sdk.slideRequirements(r,t))return;const i=s.sdk.slideRecord.indexOf(o);if(o<r){if(i<0)throw new Error(`StudioForm[${s.sdk.i}] -> next.ts -> default -> if (next < currentSlideId) { ... }: Unable to find a logical next slide!`);s.sdk.slideRecord=s.sdk.slideRecord.slice(0,i+1)}else o!==r&&i<0&&s.sdk.slideRecord.push(o);s.view.animate({...t,currentSlideId:r,nextSlideId:o}),o>r&&s.elements.prevBtns.forEach((e=>{e.classList.remove("sf-hide")})),c(s.view.eventsFunctionArrays.afterNext)}function R(e,t){const s=E[e];if(!0===s.modes.waitForAnimations&&!0!==t.doNotWaitForAnimations&&!0===s.view.gsapTimeline.isRunning){const e=`StudioForm[${s.sdk.i}] -> prev.ts -> default: The animation is not yet finished!`;return console.warn(e),e}if(!0===s.sdk.isSubmitted){const e=`StudioForm[${s.sdk.i}] -> prev.ts -> default: Form already submitted!`;return console.warn(e),e}if(s.sdk.slideRecord.length<=1){s.elements.prevBtns.forEach((e=>{e.classList.add("sf-hide")}));const e=`StudioForm[${s.sdk.i}] -> prev.ts -> default: Can't navigate backwards any further!`;return console.warn(e),e}const o=s.sdk.slideRecord[s.sdk.slideRecord.length-1],r=s.sdk.slideRecord[s.sdk.slideRecord.length-2],i=s.sdk.slideRecord.indexOf(r);s.sdk.slideRecord.pop(),s.view.animate({...t,currentSlideId:o,nextSlideId:r}),0===i&&s.elements.prevBtns.forEach((e=>{e.classList.add("sf-hide")})),c(s.view.eventsFunctionArrays.afterPrev)}async function $(e,t){const s=E[e],o=s.sdk.slideRecord[s.sdk.slideRecord.length-1];if(!0===s.modes.isSlider){const e=`StudioForm[${s.sdk.i}] -> submit.ts -> default: Slider mode doesn't allow for submission!`;return console.warn(e),e}if(!0===s.modes.waitForAnimations&&!0!==t.doNotWaitForAnimations&&!0===s.view.gsapTimeline.isRunning){const e=`StudioForm[${s.sdk.i}] -> submit.ts -> default: The animation is not yet finished!`;return console.warn(e),e}if(!0===s.sdk.isSubmitted){const e=`StudioForm[${s.sdk.i}] -> submit.ts -> default: Form already submitted!`;return console.warn(e),e}if(!s.sdk.slideRequirements(o,t)&&!t.doNotCheckSlideRequirements)return;s.elements.errorMsg.style.display="",s.sdk.isSubmitted=!0;const r=s.sdk.slideLogic[o].btns;r&&r.forEach((e=>{""!==(e.el.getAttribute("data-wait")||"")&&(e.textDefault||(e.textDefault=e.el.innerText),e.el.innerHTML=e.el.getAttribute("data-wait"))}));const i=await s.model.post();let n;try{n="fail"===s.sdk.data.status?s.sdk.data.response.message:JSON.stringify(i,null,2)}catch(e){const t=`StudioForm[${s.sdk.i}] -> submit.ts -> default: Unable to produce "resVal: string" value!`;console.warn(t,e)}if("string"==typeof n&&s.elements.responseData.forEach((e=>{e.style.whiteSpace="pre-wrap",e.innerHTML=n})),"done"!==s.sdk.data.status&&!0!==t.forceDone){r&&r.forEach((e=>{""!==(e.el.getAttribute("data-wait")||"")&&(e.el.innerHTML=e.textDefault)})),s.elements.errorMsg.style.display="block",s.modes.hideErrorMessageOnClick&&document.body.addEventListener("click",(function(){s.elements.errorMsg.style.display=""}),{once:!0}),s.sdk.isSubmitted=void 0;return`StudioForm[${s.sdk.i}] -> submit.ts -> default: Form submission not successful!`}s.elements.wrapper.childNodes.forEach((e=>{e!==s.elements.mask&&e!==s.elements.errorMsg&&e!==s.elements.successMsg&&e.classList.add("sf-hide")})),document.querySelectorAll(`[studio-form-${s.sdk.i}]`).forEach((e=>e.classList.add("sf-hide"))),s.view.animate({...t,currentSlideId:o,isSubmit:!0}),"string"==typeof s.sdk.data.redirect&&setTimeout((()=>{location.href=s.sdk.data.redirect}),1e3*s.sdk.animationData.timeBoth+1),c(s.view.eventsFunctionArrays.afterSubmit);return`StudioForm[${s.sdk.i}] -> submit.ts -> default: Form submission successful!`}function L(e){const t=e.view.eventsFunctionArrays;function s(s,o){c(t.onButtonSuggestionClear);const r=e.sdk.slideLogic[s],i=r.btns[o];if(!r||!i)return void console.warn(`StudioForm[${e.sdk.i}] -> suggestButton.ts -> init -> clear: Unable to find slide and/or button!`);i.suggested=void 0;const n=[],a="LABEL"!==i.el.tagName&&i.el.closest('label, [studio-form="label"]')?i.el.closest('label, [studio-form="label"]'):i.el;n.push(a),a.querySelectorAll("*").forEach((e=>n.push(e))),n.forEach((e=>e.classList.remove("sf-suggested"))),c(t.afterButtonSuggestionClear)}u(e,"ButtonSuggestion"),u(e,"ButtonSuggestionClear"),e.sdk.suggestButton=function(o,r){!function(o,r){c(t.onButtonSuggestion);const i=e.sdk.slideLogic[o],n=i.btns[r];if(!i||!n)throw new Error(`StudioForm[${e.sdk.i}] -> suggestButton.ts -> init -> suggest: Unable to find slide and/or button!`);e.modes.autoRemoveButtonSuggestion&&setTimeout((()=>{document.body.addEventListener("click",(function(){setTimeout((()=>{s(o,r)}),1)}),{once:!0})}),1);n.suggested=!0;const a=[],l="LABEL"!==n.el.tagName&&n.el.closest('label, [studio-form="label"]')?n.el.closest('label, [studio-form="label"]'):n.el;a.push(l),l.querySelectorAll("*").forEach((e=>a.push(e))),a.forEach((e=>e.classList.add("sf-suggested"))),c(t.afterButtonSuggestion)}(o,r)},e.sdk.clearSuggestedButton=function(e,t){s(e,t)}}function T(e){e.sdk.slideLogic.forEach((t=>{t.el.querySelectorAll("input").forEach((t=>{if("checkbox"!==t.type&&"radio"!==t.type)return;const s=t.closest('label, [studio-form="label"]')||t,o=[s];s.querySelectorAll("*").forEach((e=>o.push(e)));let r=t.hasAttribute("checked"),i=!1;"checkbox"===t.type&&(r?o.forEach((e=>e.classList.add("sf-selected"))):t.hasAttribute("required")?t.value="":t.value="off"),s.addEventListener("click",(()=>{if(!i){if(i=!0,setTimeout((()=>{i=!1}),1),"radio"===t.type){const s=[];e.elements.mask.querySelectorAll(`input[type="radio"][name="${t.name}"]`).forEach((e=>{e!==t&&s.push(e)}));const r=[];s.forEach((e=>{const s=e.closest('label, [studio-form="label"]')||t;r.push(s),s.querySelectorAll("*").forEach((e=>r.push(e)))})),e.elements.mask.querySelectorAll(`input[type="radio"][name="${t.name}"][value="${t.value}"]`).length>1&&console.warn(`StudioForm[${e.sdk.i}] -> radioCheckboxValueCorrector.ts: The radio input with the value "${t.value}" (Group: "${t.name}") is not unique!`,{selectedElements:o},{unselectedElements:r}),o.forEach((e=>e.classList.add("sf-selected"))),t.setAttribute("data-selected",""),r.forEach((e=>e.classList.remove("sf-selected"))),s.forEach((e=>e.removeAttribute("data-selected")))}"checkbox"===t.type&&(r?(o.forEach((e=>e.classList.remove("sf-selected"))),t.hasAttribute("required")?t.value="":t.value="off",r=!1):(o.forEach((e=>e.classList.add("sf-selected"))),t.value="on",r=!0))}}))}))}))}function N(e){const t=e.view.eventsFunctionArrays;u(e,"Next"),u(e,"Prev"),u(e,"Submit"),e.sdk.next=(s={})=>{c(t.onNext);return F(e.sdk.i,s)},e.sdk.prev=(s={})=>{c(t.onPrev);return R(e.sdk.i,s)},e.sdk.submit=async(s={})=>{c(t.onSubmit);return await $(e.sdk.i,s)},T(e),L(e),e.sdk.slideLogic.forEach((t=>{t.btns&&t.btns.forEach((t=>t.el.addEventListener("click",(()=>{e.sdk.next({btn:t})}))))})),e.elements.nextBtns.forEach((t=>t.addEventListener("click",(()=>{e.sdk.next()})))),e.elements.prevBtns.forEach((t=>{t.classList.add("sf-hide"),t.addEventListener("click",(()=>{e.sdk.prev()}))}))}function M(e,l){const d=E[e],u=l.currentSlideId,m=l.nextSlideId,f=l.isSubmit;if(l.doNotAnimate)return;if("number"!=typeof u)throw new Error(`StudioForm[${d.sdk.i}] -> animate.ts -> default: options.currentSlideId is not a number!`);if("number"!=typeof m&&!0!==f)throw new Error(`StudioForm[${d.sdk.i}] -> animate.ts -> default: options.nextSlideId or options.isSubmit are not defined!`);if(u===m)return void console.warn(`StudioForm[${d.sdk.i}] -> animate.ts -> default: options.currentSlideId (${u}) and options.nextSlideId (${m}) are equal!`);const p=!0!==f?d.sdk.slideLogic[u]:{el:d.elements.mask},g=!0!==f?d.sdk.slideLogic[m]:{el:d.elements.successMsg},h=!0!==f?d.elements.mask:d.elements.wrapper,b=h.closest('[studio-form="overflow-wrapper"]')||h.closest("section")||d.elements.wrapper,k=p.el.offsetWidth,y=p.el.offsetHeight;g.el.style.display=!0===f?"block":"";const v=g.el.offsetWidth,w=g.el.offsetHeight;g.el.style.display="none";const A=k===v&&y===w;let S=parseFloat(p.el.getAttribute("data-slide-equal-dimensions-multiplier")||d.elements.wrapper.getAttribute("data-slide-equal-dimensions-multiplier")||a.toString());S=isNaN(S)?0:S;const x=!0!==f&&u>m;let q=parseFloat(p.el.getAttribute("data-slide-opacity")||d.elements.wrapper.getAttribute("data-slide-opacity")||s.toString());q=isNaN(q)?0:q;let F=parseFloat(g.el.getAttribute("data-slide-opacity")||d.elements.wrapper.getAttribute("data-slide-opacity")||s.toString());F=isNaN(F)?0:F;let R=parseFloat(g.el.getAttribute("data-slide-z-index")||d.elements.wrapper.getAttribute("data-slide-z-index"));R=isNaN(R)?1:R;let $=parseFloat(p.el.getAttribute("data-slide-move-current")||d.elements.wrapper.getAttribute("data-slide-move-current")||o.toString());$=isNaN($)?1:$;let L=parseFloat(p.el.getAttribute("data-slide-time-sec-current")||d.elements.wrapper.getAttribute("data-slide-time-sec-current")||i.toString());L=isNaN(L)?1:L;let T=parseFloat(p.el.getAttribute("data-slide-move-next")||d.elements.wrapper.getAttribute("data-slide-move-next")||r.toString());T=isNaN(T)?1:T;let N=parseFloat(p.el.getAttribute("data-slide-time-sec-next")||d.elements.wrapper.getAttribute("data-slide-time-sec-next")||n.toString());N=isNaN(N)?1:N;let M=parseFloat(p.el.getAttribute("data-slide-direction")||d.elements.wrapper.getAttribute("data-slide-direction"));M=isNaN(M)?t:M,M=Math.min(Math.max(M,0),359.9999)-(x?-180:0);const B=(M-90)*Math.PI/180,P=k*$*Math.cos(B)*-1,C=y*$*Math.sin(B)*-1,D=v*T*Math.cos(B),I=w*T*Math.sin(B);d.sdk.animationData={...d.sdk.animationData,currentElement:p.el,nextElement:g.el,parentElement:h,overflowElement:b,direction:M,angle:B,opacityNext:F,opacityCurrent:q,zIndex:R,xCurrent:P,yCurrent:C,currentWidth:k,currentHeight:y,moveCurrentMultiplier:$,timeCurrent:L,xNext:D,yNext:I,nextWidth:v,nextHeight:w,moveNextMultiplier:T,timeNext:L,equalDimensions:A,equalDimensionsMulitplier:S,timeBoth:L*(A?S:1)+N};const O=function(e){const t=e.getBoundingClientRect();return t.top>0&&t.top<window.innerHeight}(p.el),H=gsap.timeline(),j=d.view.gsapTimeline;j.isRunning&&(j.tl.progress(1),j.tl.clear()),j.tl=H,j.isRunning=!0,H.set(b,{overflow:"hidden"}),H.set(h,{width:k,height:y,position:"relative"}),H.set(p.el,{x:0,y:0,opacity:1,display:"",position:"absolute",left:0,top:0,right:0}),H.set(g.el,{x:D,y:I,opacity:F,zIndex:R,display:!0!==f?"":"block",position:"absolute",left:0,top:0,right:0}),H.to(p.el,{duration:L,x:P,y:C,opacity:q}),H.to(h,{duration:L,width:Math.max(k,v),height:Math.max(y,w)},"<"),H.to(g.el,{duration:N,x:0,y:0,opacity:1},`<+=${A?L*S:L}`),H.to(h,{duration:N,width:v,height:w},"<"),H.set(p.el,{x:"",y:"",opacity:"",display:"none",position:"",left:"",top:"",right:"",bottom:""}),H.set(g.el,{x:"",y:"",opacity:"",zIndex:"",position:"",left:"",top:"",right:"",bottom:""}),H.set(h,{width:"",height:"",position:""}),H.set(b,{overflow:""}),H.call((()=>{j.isRunning=void 0})),d.view.progress(l),d.modes.scrollIfTopNotVisible&&O||setTimeout((()=>{d.sdk.scrollTo({...l,attributeReferenceElement:g.el})}),y<w?1e3*L+1:1e3*d.sdk.animationData.timeBoth+1),c(d.view.eventsFunctionArrays.afterAnimate)}function B(e,t){const s=E[e];if(s.elements.progress.bars.length<1&&s.elements.progress.currentSlides.length<1&&s.elements.progress.minMaxSlides.length<1&&s.elements.progress.minSlides.length<1&&s.elements.progress.maxSlides.length<1&&!s.modes.calculateProgress)return;s.model.generateProgressData();const o=s.sdk.pathProgressData,r=s.sdk.animationData;if("object"!=typeof o)throw new Error(`StudioForm[${s.sdk.i}] -> animateProgress.ts -> default: pathProgressData is not an object!`);let i=[];[s.elements.progress.bars,document.querySelectorAll(`[studio-form-${s.sdk.i}="progress-bar"`)].forEach((e=>e.forEach((e=>i.push(e))))),i.forEach((e=>{const t=gsap.timeline(),i=s.view.gsapProgressBarTimeline;i.isRunning&&i.tl.clear(),i.tl=t,i.isRunning=!0;const n=e.getAttribute("data-axis")||"x",a=n.indexOf("x")>-1,l=n.indexOf("y")>-1,d={duration:r.timeBoth,width:a?(!0===s.sdk.isSubmitted?100:o.longest.percentage)+"%":"",height:l?(!0===s.sdk.isSubmitted?100:o.longest.percentage)+"%":""};t.to(e,d),t.call((()=>{i.isRunning=void 0}))})),s.elements.progress.currentSlides.forEach((e=>{e.innerHTML=o.longest.walked})),s.elements.progress.minSlides.forEach((e=>{e.innerHTML=o.shortest.path})),s.elements.progress.maxSlides.forEach((e=>{e.innerHTML=o.longest.path})),s.elements.progress.minMaxSlides.forEach((e=>{const t=o.longest.path>o.shortest.path?o.shortest.path+" - "+o.longest.path:o.longest.path;e.innerHTML=t}))}function P(t,s){const o=E[t];if(!1===s.scrollToTarget||!o.modes.scrollToTarget)return;const r="string"==typeof s.target?s.target:s.attributeReferenceElement?.getAttribute("data-scroll-to-target")||o.elements.wrapper?.getAttribute("data-scroll-to-target")||"",i="string"==typeof s.offset?s.offset:s.attributeReferenceElement?.getAttribute("data-scroll-to-offset")||o.elements.wrapper?.getAttribute("data-scroll-to-offset")||"",n=f(s.target)?s.target:""!==r&&document.querySelector(r)||o.elements.wrapper;let a=f(s.offset)?s.target:""!==i?document.querySelector("string"==typeof s.offset?s.offset:i):null;a="number"==typeof s.offset?s.offset:a?.offsetHeight||l;let d,u=n.getBoundingClientRect().top+window.scrollY-a;function c(){Math.round(window.scrollY)===Math.round(u)&&(window.removeEventListener("scroll",c),clearTimeout(d),"function"==typeof s.callback&&s.callback(!0))}u=Math.max(u,0),window.scrollTo({top:u,behavior:"smooth"}),window.addEventListener("scroll",c),d=setTimeout((function(){window.removeEventListener("scroll",c),"function"==typeof s.callback&&s.callback(!1),console.warn(`StudioForm[${o.sdk.i}] -> anchor.ts -> default -> setTimeout() callback: Scrolling operation timed out.`,{y:u,target:n,offset:a})}),1e3*e),o.sdk.animationData.scrollToY=u,o.sdk.animationData.scrollToTarget=n,o.sdk.animationData.scrollToOffset=a}function C(e,t){const s=E[e];if(t.length<1)return void console.warn(`StudioForm[${s.sdk.i}] -> required.ts -> default: The supplied data is empty!`);const o=t[0].el.closest('label, [studio-form="label"]')||t[0].el,r=o.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,a=r.top>=0&&r.bottom<=i&&r.left>=0&&r.right<=n;function l(){try{t[0].el.reportValidity()}catch(e){console.warn(`StudioForm[${s.sdk.i}] -> required.ts -> default: data[0].el.reportValidity() produces unexpected error!`,e)}}(s.modes.scrollOnRequirementsError&&!a||s.modes.forceScrollOnRequirementsError)&&s.sdk.scrollTo({target:o,attributeReferenceElement:s.sdk.slideLogic[s.sdk.slideLogic.length-1].el,callback:e=>{s.modes.nativeReportVadility&&e&&l()}}),s.modes.nativeReportVadility&&a&&!s.modes.forceScrollOnRequirementsError&&l(),setTimeout((()=>{t.forEach((e=>{const t=e.el.closest('label, [studio-form="label"]')||e.el,s=[t];t.querySelectorAll("*").forEach((e=>s.push(e))),s.forEach((e=>e.classList.add("sf-required")))})),document.body.addEventListener("click",(function(){t.forEach((e=>{const t=e.el.closest('label, [studio-form="label"]')||e.el,s=[t];t.querySelectorAll("*").forEach((e=>s.push(e))),s.forEach((e=>e.classList.remove("sf-required")))}))}),{once:!0})}),1),c(s.view.eventsFunctionArrays.afterRenderRequirements)}function D(e){q(e),e.model.generateSlideLogic(),e.view.progress=function(t={}){B(e.sdk.i)},e.view.progress(),e.sdk.scrollTo=function(t={}){P(e.sdk.i,t)};const t=e.view.eventsFunctionArrays;u(e,"Animate"),e.view.animate=function(s={}){c(t.onAnimate),M(e.sdk.i,s)},u(e,"RenderRequirements"),e.view.renderRequirements=function(s=[]){c(t.onRenderRequirements),C(e.sdk.i,s)},e.sdk.slideLogic.forEach((e=>{e.el.style.display="none"})),e.sdk.slideLogic[0].el.style.display="",N(e)}function I(){if(void 0!==window.StudioForm)return void console.warn("StudioForm -> controller.ts -> main: Studio Form is being loaded multiple times. However, the functionality should not be affected.");const e=[];document.querySelectorAll('[studio-form="wrapper"]').forEach(((t,s)=>{x(t,s),D(E[s]),E[s].modes.simpleSdk?e.push(E[s].sdk):e.push(E[s])})),window.StudioForm=e}function O(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",I):I()}"undefined"==typeof gsap?function(e="foo.js",t){new Promise(((t,s)=>{const o=document.createElement("script");document.head.appendChild(o),o.onload=t,o.onerror=s,o.async=!0,o.src=e})).then(t)}("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js",O):O();})()