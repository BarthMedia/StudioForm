(function(){const e=10,t=90,o=0,s=1,r=1,i=.5,n=.5,a=.5,l=16,d='[studio-form="submit"], [studio-form="next"], .w-button:not([studio-form="Not a Button"]):not([studio-form="no-button"]):not([studio-form="prev"])';function u(e,t){const o="false"===e.getAttribute("data-closest-sf-hide")?e:e.closest('[studio-form="sf-hide"]')||e,s=[o];o.querySelectorAll("*").forEach((e=>s.push(e))),s.forEach((e=>e.classList?.[t]("sf-hide")))}const c=e=>{u(e,"add")},m=e=>{u(e,"remove")};function f(e,t,o,s=!1){const r=t.elements.wrapper.closest(["window-scroll"].map((e=>`[studio-form="${e}"]`)).join(", ")),i=e.getBoundingClientRect(),n=r?.getBoundingClientRect(),a=p(t,o).offset,l=n?.height||window.innerHeight;return i.top-(n?.top||0)-a>=-1&&i.top-(n?.top||0)<l&&(!s||i.bottom-(n?.bottom||0)<l)}function p(e,t){const o="string"==typeof t.target?t.target:t.attributeReferenceElement?.getAttribute("data-scroll-to-target")||e.elements.wrapper?.getAttribute("data-scroll-to-target")||"",s="string"==typeof t.offset?t.offset:t.attributeReferenceElement?.getAttribute("data-scroll-to-offset")||e.elements.wrapper?.getAttribute("data-scroll-to-offset")||"",r=k(t.target)?t.target:""!==o&&document.querySelector(o)||e.elements.wrapper;let i=k(t.offset)?t.target:""!==s?document.querySelector("string"==typeof t.offset?t.offset:s):null;return i="number"==typeof t.offset?t.offset:i?.offsetHeight||l,{target:r,offset:i}}function g(e,t){const o=e.sdk.events,s=e.view.eventsFunctionArrays;s[`on${t}`]=[],s[`after${t}`]=[],o[`on${t}`]=function(...e){b(e,s[`on${t}`])},o[`after${t}`]=function(...e){b(e,s[`after${t}`])}}function h(e){e.forEach((e=>e()))}function b(e,t){function o(e){"function"==typeof e&&t.push(e)}e.forEach?e.forEach((e=>o(e))):o(e)}function k(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}const y=function(e,t="standard"){return new Promise((function(o,s){setTimeout((function(){s(new Error(`Request took too long! Timeout after ${e/("quick"===t?10:1)} second`))}),1e3*e/("quick"===t?10:1))}))},v=async function(t,o={},s=e){try{const e=await Promise.race([fetch(t,o),y(s)]);let r={message:"Unable to format response as JSON."};const i=e.headers.get("Content-Type");if(i&&i.includes("text/html")){r=await e.text();r=(new DOMParser).parseFromString(r,"text/html")}else try{r=await e.json()}catch(e){console.warn("helper.ts -> getJson: ",e)}if(!e.ok)throw new Error(`${r.message} (${e.status})`);return r}catch(e){throw e}};function S(e){if(!k(e.elements.wrapper))throw new Error(`StudioForm[${e.sdk.i}] -> modes.ts -> default: state.elements.wrapper is not an element`);e.modes={};const t=e.modes,o=e.elements.wrapper;t.simpleSdk="true"===(o.getAttribute("data-simplified-sdk")||"true"),t.removeVisualDividers="true"===(o.getAttribute("data-remove-dividers")||"true"),t.removeConditionallyInvisibeSlides="true"===(o.getAttribute("data-remove-conditionally-invisible-slides")||"true"),t.isJotFrom="true"===(o.getAttribute("data-jot-form-mode")||"false"),t.isWfForm=o.classList.contains("w-form"),t.isSlider=!t.isWfForm||"true"===(o.getAttribute("data-slider-mode")||"false"),t.removeRequiredAttributeFromCheckboxAndRadioOnlys="true"===(o.getAttribute("data-remove-required-from-checkbox-or-radio-only-steps")||"true"),t.swapSubmitButtons="true"===(o.getAttribute("data-swap-submit-buttons")||"true"),t.calculateProgress="true"===(o.getAttribute("data-calculate-progress")||"false"),t.autoRemoveButtonSuggestion="true"===(o.getAttribute("data-auto-remove-button-suggestion")||"true"),t.autoSuggestButtons="true"===(o.getAttribute("data-auto-suggest-buttons")||"true"),t.scrollToTarget="true"===(o.getAttribute("data-auto-scroll-to-target")||"true"),t.waitForAnimations="true"===(o.getAttribute("data-wait-for-animations")||"false"),t.hideErrorMessageOnClick="true"===(o.getAttribute("data-hide-error-message-on-click")||"true"),t.scrollOnRequirementsError="true"===(o.getAttribute("data-scroll-on-requirements-error")||"true"),t.forceScrollOnRequirementsError="true"===(o.getAttribute("data-force-scroll-on-requirements-error")||"false"),t.nativeReportVadility="true"===(o.getAttribute("data-native-report-validity")||"true"),t._100PercentProgressOnSubmitOnly="true"===(o.getAttribute("data-100-percent-progress-on-submit-only")||"true"),t.fieldParamsRedirect="true"===(o.getAttribute("data-field-params-redirect")||"true"),t.scrollIfTopNotVisible="true"===(o.getAttribute("data-scroll-if-top-not-visible")||"true"),t.autoSwapFileUploadLabelText="true"===(o.getAttribute("data-swap-file-upload-label-text")||"true")}function A(e,t){const o=e.querySelectorAll("input, select, textarea"),s=e.querySelectorAll(d),r=o.length<1;let i=s.length<1,n=!0;i&&o.forEach((e=>{"radio"!==e.getAttribute("type")&&(i=!1)})),n&&o.forEach((e=>{"checkbox"!==e.getAttribute("type")&&(n=!1)}));let a="standard";n&&(a="checkbox"),i&&(a="radio"),r&&(a="empty");const l=e.getAttribute("data-slide-type");return l&&""!==l&&(a=l),t.modes.removeRequiredAttributeFromCheckboxAndRadioOnlys&&(i||n)&&o.forEach((e=>e.removeAttribute("required"))),a}function w(e,t,o){const s=t.querySelectorAll("input, select, textarea"),r=t.querySelectorAll(d),i=[];function n(e,t){const o={};o.i=t,o.el=e,o.conditional=e?.getAttribute("data-conditional")||"",o.next="submit"!==e?.getAttribute("studio-form"),i.push(o)}return"radio"===e?(s.forEach(((e,t)=>{n(e.closest('label, [studio-form="label"]'),t)})),i):(r.forEach(((e,t)=>{n(e,t)})),i)}function E(e,t){if(!t.modes.swapSubmitButtons)return;const o=e.querySelectorAll('input[type="submit"]');o.length<1||o.forEach((e=>{const t=e.attributes,o={};for(const e of t)o[e.name]=e.value;const s=document.createElement("a");for(const e in o)s.setAttribute(e,o[e]);s.removeAttribute("type"),s.removeAttribute("value"),s.setAttribute("studio-form","submit"),s.innerHTML=e.getAttribute("value")||"",e.after(s),e.remove()}))}function x(e){const t=R[e],o=[];for(let e=0,s=t.elements.slides.length;e<s;e++){const s=t.elements.slides[e],r={};r.i=e,r.el=s,E(s,t),r.type=A(s,t),r.btns=w(r.type,s),r.conditionalNext="true"===(s.getAttribute("data-conditional-next")||"false"),r.conditional=s.getAttribute("data-conditional")||"",o.push(r)}o.forEach((e=>{if(e.btns.length<1){e.btns=!1;let t=!1;return t=(()=>{for(let t=0,s=o.length;t<s;t++){const s=o[t];if(s.i>e.i&&""===s.conditional&&!1===s.conditionalNext)return s.i}})(),e.i<o.length-1&&!0===o[e.i+1]?.conditionalNext&&(t=e.i+1),e.i>=o.length-1&&(t=!1),void(e.next=t)}e.btns.every((s=>{if(!1===s.next)return!0;if(s.el.setAttribute("studio-form","next"),e.i>=o.length-1)return s.next=!1,s.el.setAttribute("studio-form","submit"),!0;if(""!==s.conditional){let r;if(o.every((e=>s.conditional!==e.conditional||(r=e,!1))),r){let t=r.i;t<=e.i&&(s.conditionalPrev=!0),s.next=t}else console.warn(`StudioForm[${t.sdk.i}] -> slideLogic.ts -> default -> slideLogic.forEach() callback -> slide.btns.every() callback: The partner slide for btns[${s.i}].conditional === '${s.conditional}' (in state.elements.slides[${e.i}]) has not been found.`),s.el.setAttribute("studio-form","submit"),s.next=!1;return!0}return!0===o[e.i+1]?.conditionalNext?(s.next=e.i+1,!0):(s.next=(()=>{for(let t=0,s=o.length;t<s;t++){const s=o[t];if(s.i>e.i&&""===s.conditional&&!1===s.conditionalNext)return s.i}})(),!0)}))})),t.sdk.slideLogic=o}function q(e){const t=R[e];if(t.sdk.slideLogic.length<1||t.sdk.slideRecord.length<1)throw new Error(`StudioForm[${t.sdk.i}] -> calculateProgress.ts -> default: state.sdk.slideLogic.length and/or state.sdk.slideRecord.length can't equal 0`);const o=t.sdk.slideLogic,s=t.sdk.slideRecord,r=s[s.length-1],i=s.length;let n=o.length,a=0,l=0,d=0,u=[];!function e(s){let r=function(e){let t=[];e.btns?e.btns.forEach((e=>{-1!==t.indexOf(e.next)||e.conditionalPrev||t.push(e.next)})):t.push(e.next);return t}(s);l++,d++,[...r].filter((e=>!1!==e)).length>1&&(u.push(d),d=0);let i=!1;!1!==s.btns?s.btns.every((e=>!1!==e.next&&void 0!==e.next||(a=Math.max(a,l),n=Math.min(n,l),l=0,u.forEach((e=>{l+=e})),u.pop(),i=!0,!1))):!1!==s.next&&void 0!==s.next||(a=Math.max(a,l),n=Math.min(n,l),l=0,u.forEach((e=>{l+=e})),u.pop(),i=!0),i||r.forEach((r=>{void 0!==r?!1!==r&&e(o[r]):console.warn(`StudioForm[${t.sdk.i}] -> calculateProgress.ts -> defaul -> objectLoop -> array.forEach() callback: id === undefined`,s)}))}(o[r]),n+=i-1,a+=i-1;const c=t.modes._100PercentProgressOnSubmitOnly?1:0;return{shortest:{percentage:i/(n+c)*100,path:n,walked:i},longest:{percentage:i/(a+c)*100,path:a,walked:i}}}function $(e,t,o){if(!0===o.doNotCheckSlideRequirements)return!0;const s=R[e],r=s.sdk.slideLogic[t],i=[];if(!0===s.modes.isSlider)return!0;if("empty"===r.type)return!0;if("checkbox"===r.type){const e=r.el.querySelectorAll('input[type="checkbox"]');let t=!1;return e.forEach((e=>{"on"===e.value&&(t=!0)})),s.sdk.slideRequirementsData=i,!!t||(e.forEach((e=>i.push({el:e,msg:"nothing checked",regExp:void 0}))),s.sdk.slideRequirementsData=i,s.view.renderRequirements(i),!1)}if("radio"===r.type){const e=r.el.querySelectorAll('input[type="radio"]');let t=!1;return e.forEach((e=>{e.hasAttribute("data-selected")&&(t=!0)})),s.sdk.slideRequirementsData=i,!!t||(e.forEach((e=>i.push({el:e,msg:"nothing selected",regExp:void 0}))),s.sdk.slideRequirementsData=i,s.view.renderRequirements(i),!1)}if("standard"===r.type){r.el.querySelectorAll("input, select, textarea").forEach(((e,t)=>{e.setAttribute("data-sf-input-id",t.toString())}));const e=r.el.querySelectorAll('input[type="radio"]'),t=[];return e.forEach((e=>{-1===t.indexOf(e.name)&&t.push(e.name)})),t.forEach((e=>{const t=r.el.querySelectorAll(`input[type="radio"][name="${e}"]`);let o=!1;t.forEach((e=>{e.hasAttribute("data-selected")&&(o=!0)})),o||t.forEach((e=>i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"nothing selected",regExp:void 0})))})),r.el.querySelectorAll("input, select, textarea").forEach((e=>{if("radio"!==e.type&&e.hasAttribute("required"))if(""!==e.value){if(e.getAttribute("data-regex")||e.getAttribute("data-reg-exp"))try{const t=new RegExp(e.getAttribute("data-regex")||e.getAttribute("data-reg-exp")||"");return t.test(e.value)?void 0:void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"custom regular expression",regExp:t})}catch(t){console.warn(`StudioForm[${s.sdk.i}] -> requirements.ts -> default -> forEach() callback: Unvalid regex test!`,e)}if("email"===e.type){const t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(!t.test(e.value))return void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"email",regExp:t})}if("tel"===e.type){const t=/^[\d\s\-\+\(\)\.\/*#]+$/;if(!t.test(e.value))return void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"telephone",regExp:t})}if("number"===e.type){const t=/^-?(\d+|\d{1,3}(,\d{3})*)(\.\d+)?$/;if(!t.test(e.value))return void i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"number",regExp:t})}}else i.push({el:e,i:parseInt(e.getAttribute("data-sf-input-id")||""),msg:"empty",regExp:void 0})})),i.sort(((e,t)=>e.i-t.i)),r.el.querySelectorAll("input, select, textarea").forEach((e=>{e.removeAttribute("data-sf-input-id")})),s.sdk.slideRequirementsData=i,!(i.length>0)||(s.view.renderRequirements(i),!1)}return!!r.el.getAttribute("data-requirements","true")}async function F(t){const o=R[t],s=o.elements.mask;let r="POST",i="https://webflow.com/api/v1/form/"+document.querySelector("html")?.getAttribute("data-wf-site");if(!k(s))throw new Error(`StudioForm[${o.sdk.i}] -> post.ts -> default: Couldn't find form!`);const n=[],a=[];let l={name:s.getAttribute("data-name"),pageId:document.querySelector("html")?.getAttribute("data-wf-page"),elementId:s.getAttribute("data-wf-element-id"),source:location.href},d=!1;(o.modes.isJotFrom||(s.getAttribute("action")||"").indexOf("jotform.com/submit")>-1)&&(d=!0,l=[]),o.sdk.slideRecord.forEach((e=>{o.sdk.slideLogic[e].el.querySelectorAll("input, select, textarea").forEach((e=>{const t=e.getAttribute("data-name")||e.getAttribute("name")||e.getAttribute("id")||e.getAttribute("class")||e.getAttribute("type")||e.tagName;if("radio"!==e.type||e.hasAttribute("data-selected"))if("file"!==e.type)d&&""===e.value||n.push({key:t,value:e.value});else if(e.files)for(let o=0,s=e.files.length;o<s;o++)a.push({key:`${t}${d?"":"]["}${d?"":o}`,value:e.files[o]})}))}));const u=a.length>0;n.forEach((e=>{d?l.push(e):l[`fields[${e.key}]`]=e.value})),a.forEach((e=>{d?l.push(e):l[`files[${e.key}]`]=e.value}));const c=u?new FormData:new URLSearchParams;if(d)l.forEach((e=>c.append(e.key,e.value)));else for(const e in l)c.append(e,l[e]);if(s.getAttribute("action")){r=(s.getAttribute("method")||"").toUpperCase(),i=s.getAttribute("action")||"";const e=(s.getAttribute("data-method")||o.elements.wrapper.getAttribute("data-method")||"").toUpperCase();["GET","PUT","POST","PATCH","DELETE"].includes(e)&&(r=e)}const m={Accept:s.getAttribute("data-headers-accept")||"application/json, text/javascript, */*; q=0.01","Content-Type":s.getAttribute("data-headers-content-type")||"application/x-www-form-urlencoded; charset=UTF-8"},f=!(!s.getAttribute("data-headers-accept")&&!s.getAttribute("data-headers-content-type")),p={method:r,headers:m,body:u?c:c.toString()};if(u&&!f&&delete p.headers,"GET"===r){f||delete p.headers,delete p.body;const e=new URL(i),t=e.searchParams;for(const e of n)t.append(e.key,e.value);e.search=t.toString(),i=e.href}const g=s.getAttribute("data-auth-token")||"";let h;""!==g&&(p.headers=p.headers?{...p.headers,Authorization:`Bearer ${g}`}:{Authorization:`Bearer ${g}`});let b,y="done";try{h=await v(i,p,parseInt(o.elements.wrapper.getAttribute("data-form-submit-timeout-sec")||e.toString()))}catch(e){console.error(`StudioForm[${o.sdk.i}] -> post.ts -> default -> await fetch(): `,e),y="fail",h=e}if(s.getAttribute("redirect"))try{const e=s.getAttribute("redirect")||"";let t="";/^(https?:\/\/)/i.test(e)||(t=location.protocol+"//"+(e.startsWith("/")?location.hostname:""));let r=new URL(t+e);if(o.modes.fieldParamsRedirect){const e=r.searchParams;for(const t of n)e.append(t.key,t.value);r.search=e.toString()}b=r.href}catch(e){console.error(`StudioForm[${o.sdk.i}] -> post.ts -> default -> try {Â ... redirect url ... } catch: `,e)}return o.sdk.data.endpoint=i,o.sdk.data.options=p,o.sdk.data.method=r,o.sdk.data.payload=l,o.sdk.data.response=h,o.sdk.data.status=y,o.sdk.data.redirect=b,h}const R=[];function L(e,t){const o={elements:{}};o.elements.wrapper=e,o.sdk={},o.sdk.i=t,o.sdk.events={},o.sdk.animationData={},o.sdk.register={},o.sdk.slideRecord=[0],S(o),o.view={},o.view.eventsFunctionArrays={},o.view.gsapTimeline={},o.view.gsapProgressBarTimeline={},o.model={},o.model.generateSlideLogic=function(){x(t)},o.sdk.data={},o.model.post=async function(){return F(t)},o.model.generateProgressData=function(){const e=q(t);o.sdk.pathProgressData=e};const s=o.view.eventsFunctionArrays;g(o,"CheckSlideRequirements"),o.sdk.slideRequirementsData={},o.sdk.slideRequirements=function(e,o={}){h(s.onCheckSlideRequirements);const r=$(t,e,o);return h(s.afterCheckSlideRequirements),r},R.push(o)}function T(e){const t=e.elements,o=e.elements.wrapper;function s(t,...o){return o.map((o=>{const s=`[studio-form="${o}"]`;return t?`[data-sf-id="${e.sdk.i}"] `+s+`,[studio-form-${e.sdk.i}="${o}"]`:s})).join(",")}o.setAttribute("data-sf-id",e.sdk.i),t.mask=o.querySelector(s(!1,"mask"))||o.querySelector("form")||o.querySelector("*");const r=document.querySelectorAll(s(!0,"Visual Divider","visual-divider","divider"));e.modes.removeVisualDividers&&r.forEach((e=>e.remove())),e.modes.removeConditionallyInvisibeSlides&&t.mask?.childNodes.forEach((e=>{e.classList.contains("w-condition-invisible")&&e.remove()})),t.slides=t.mask?.querySelectorAll(s(!1,"slide")),0===t.slides?.length&&(t.slides=t.mask?.childNodes),e.modes.isWfForm&&(t.successMsg=o.querySelector(".w-form-done"),t.errorMsg=o.querySelector(".w-form-fail")),Object.keys(t).every((o=>{if(NodeList.prototype.isPrototypeOf(t[o])||HTMLCollection.prototype.isPrototypeOf(t[o])){if(t[o].length<1)throw new Error(`StudioForm[${e.sdk.i}] -> elements.ts -> default: state.elements.${o}.length is 0`);return!0}if(!k(t[o]))throw new Error(`StudioForm[${e.sdk.i}] -> elements.ts -> default: state.elements.${o} is not an element`);return!0})),t.progress={},t.progress.bars=document.querySelectorAll(s(!0,"progress-bar")),t.progress.currentSlides=document.querySelectorAll(s(!0,"current-slide")),t.progress.minMaxSlides=document.querySelectorAll(s(!0,"min-max-slides")),t.progress.minSlides=document.querySelectorAll(s(!0,"min-slides")),t.progress.maxSlides=document.querySelectorAll(s(!0,"max-slides")),t.prevBtns=[],document.querySelectorAll(s(!0,"prev","Backwards Button")).forEach((e=>t.prevBtns.push(e))),t.nextBtns=[];for(let e=0,s=o.childNodes.length;e<s;e++){const s=o.childNodes[e];s.isEqualNode(t.mask)||["next","Continue Button"].forEach((e=>{s.querySelectorAll(`[studio-form="${e}"]`).forEach((e=>{t.nextBtns.push(e)}))}))}document.querySelectorAll(`[studio-form-${e.sdk.i}="next"`).forEach((e=>t.nextBtns.push(e))),t.responseData=o.querySelectorAll(s(!0,"response-data","response"))}function N(e,t){const o=R[e];let s;const r=o.sdk.slideRecord[o.sdk.slideRecord.length-1];if(!0===o.modes.waitForAnimations&&!0!==t.doNotWaitForAnimations&&!0===o.view.gsapTimeline.isRunning){const e=`StudioForm[${o.sdk.i}] -> next.ts -> default: The animation is not yet finished!`;return console.warn(e),e}if(!0===o.sdk.isSubmitted){const e=`StudioForm[${o.sdk.i}] -> next.ts -> default: Form already submitted!`;return console.warn(e),e}if(t.btn&&(s=t.btn.next),!t.btn){const e=o.sdk.slideLogic[r];if(!e)throw new Error(`StudioForm[${o.sdk.i}] -> next.ts -> default: Unable to find the current slide!`);if(!1===e.btns)s=e.next;else if(1===e.btns.length)s=e.btns[0].next;else{let t,i=!1;if(e.btns.every((e=>!e.suggested||(s=e.next,i=!0,t=e.i,!1))),i){return e.btns[t].el.click(),{msg:`StudioForm[${o.sdk.i}] -> state.sdk.slideLogic[${e.i}] -> .btns[${t}] was clicked!`,slideId:e.i,buttonId:t}}if(!i)return o.modes.autoSuggestButtons&&o.sdk.suggestButton(r,0),{msg:`StudioForm[${o.sdk.i}] -> state.sdk.slideLogic[${e.i}] -> .btns[0] was suggested!`,slideId:e.i,buttonId:0}}}if(void 0===s&&(s=!1),"number"!=typeof s&&!1!==s)throw new Error(`StudioForm[${o.sdk.i}] -> next.ts -> default: Unable to find a logical next slide!`);if(!1===s)return void o.sdk.submit(t);if(!o.sdk.slideRequirements(r,t))return;const i=o.sdk.slideRecord.indexOf(s);if(s<r){if(i<0)throw new Error(`StudioForm[${o.sdk.i}] -> next.ts -> default -> if (next < currentSlideId) { ... }: Unable to find a logical next slide!`);o.sdk.slideRecord=o.sdk.slideRecord.slice(0,i+1)}else s!==r&&i<0&&o.sdk.slideRecord.push(s);o.view.animate({...t,currentSlideId:r,nextSlideId:s}),s>r&&o.elements.prevBtns.forEach((e=>{m(e)})),h(o.view.eventsFunctionArrays.afterNext)}function M(e,t){const o=R[e];if(!0===o.modes.waitForAnimations&&!0!==t.doNotWaitForAnimations&&!0===o.view.gsapTimeline.isRunning){const e=`StudioForm[${o.sdk.i}] -> prev.ts -> default: The animation is not yet finished!`;return console.warn(e),e}if(!0===o.sdk.isSubmitted){const e=`StudioForm[${o.sdk.i}] -> prev.ts -> default: Form already submitted!`;return console.warn(e),e}if(o.sdk.slideRecord.length<=1){o.elements.prevBtns.forEach((e=>{c(e)}));const e=`StudioForm[${o.sdk.i}] -> prev.ts -> default: Can't navigate backwards any further!`;return console.warn(e),e}const s=o.sdk.slideRecord[o.sdk.slideRecord.length-1],r=o.sdk.slideRecord[o.sdk.slideRecord.length-2],i=o.sdk.slideRecord.indexOf(r);o.sdk.slideRecord.pop(),o.view.animate({...t,currentSlideId:s,nextSlideId:r}),0===i&&o.elements.prevBtns.forEach((e=>{c(e)})),h(o.view.eventsFunctionArrays.afterPrev)}async function B(e,t){const o=R[e],s=o.sdk.slideRecord[o.sdk.slideRecord.length-1];if(!0===o.modes.isSlider){const e=`StudioForm[${o.sdk.i}] -> submit.ts -> default: Slider mode doesn't allow for submission!`;return console.warn(e),e}if(!0===o.modes.waitForAnimations&&!0!==t.doNotWaitForAnimations&&!0===o.view.gsapTimeline.isRunning){const e=`StudioForm[${o.sdk.i}] -> submit.ts -> default: The animation is not yet finished!`;return console.warn(e),e}if(!0===o.sdk.isSubmitted){const e=`StudioForm[${o.sdk.i}] -> submit.ts -> default: Form already submitted!`;return console.warn(e),e}if(!o.sdk.slideRequirements(s,t)&&!t.doNotCheckSlideRequirements)return;o.elements.errorMsg.style.display="",o.sdk.isSubmitted=!0;const r=o.sdk.slideLogic[s].btns;r&&r.forEach((e=>{""!==(e.el.getAttribute("data-wait")||"")&&(e.textDefault||(e.textDefault=e.el.innerText),e.el.innerHTML=e.el.getAttribute("data-wait"))}));const i=await o.model.post();let n;try{n=i instanceof Document?JSON.stringify({message:`<b>StudioForm[0].events.afterSubmit(</b> ...yourCallBackFunctions <b>)</b> states:<br><b>StudioForm[${o.sdk.i}].data.response</b> is an instance of Document.`},null,2):"fail"===o.sdk.data.status?o.sdk.data.response.message:JSON.stringify(i,null,2)}catch(e){const t=`StudioForm[${o.sdk.i}] -> submit.ts -> default: Unable to produce "resVal: string" value!`;console.warn(t,e)}if("string"==typeof n&&o.elements.responseData.forEach((e=>{e.style.whiteSpace="pre-wrap",e.innerHTML=n})),"done"!==o.sdk.data.status&&!0!==t.forceDone){r&&r.forEach((e=>{""!==(e.el.getAttribute("data-wait")||"")&&(e.el.innerHTML=e.textDefault)})),o.elements.errorMsg.style.display="block",o.modes.hideErrorMessageOnClick&&document.body.addEventListener("click",(function(){o.elements.errorMsg.style.display=""}),{once:!0}),o.sdk.isSubmitted=void 0;return`StudioForm[${o.sdk.i}] -> submit.ts -> default: Form submission not successful!`}o.elements.wrapper.childNodes.forEach((e=>{e!==o.elements.mask&&e!==o.elements.errorMsg&&e!==o.elements.successMsg&&c(e)})),document.querySelectorAll(`[studio-form-${o.sdk.i}]`).forEach((e=>c(e))),o.view.animate({...t,currentSlideId:s,isSubmit:!0}),"string"==typeof o.sdk.data.redirect&&setTimeout((()=>{location.href=o.sdk.data.redirect}),1e3*o.sdk.animationData.timeBoth+1),h(o.view.eventsFunctionArrays.afterSubmit);return`StudioForm[${o.sdk.i}] -> submit.ts -> default: Form submission successful!`}function C(e){const t=e.view.eventsFunctionArrays;function o(o,s){h(t.onButtonSuggestionClear);const r=e.sdk.slideLogic[o],i=r.btns[s];if(!r||!i)return void console.warn(`StudioForm[${e.sdk.i}] -> suggestButton.ts -> init -> clear: Unable to find slide and/or button!`);i.suggested=void 0;const n=[],a="LABEL"!==i.el.tagName&&i.el.closest('label, [studio-form="label"]')?i.el.closest('label, [studio-form="label"]'):i.el;n.push(a),a.querySelectorAll("*").forEach((e=>n.push(e))),n.forEach((e=>e.classList.remove("sf-suggested"))),h(t.afterButtonSuggestionClear)}g(e,"ButtonSuggestion"),g(e,"ButtonSuggestionClear"),e.sdk.suggestButton=function(s,r){!function(s,r){h(t.onButtonSuggestion);const i=e.sdk.slideLogic[s],n=i.btns[r];if(!i||!n)throw new Error(`StudioForm[${e.sdk.i}] -> suggestButton.ts -> init -> suggest: Unable to find slide and/or button!`);e.modes.autoRemoveButtonSuggestion&&setTimeout((()=>{document.body.addEventListener("click",(function(){setTimeout((()=>{o(s,r)}),1)}),{once:!0})}),1);n.suggested=!0;const a=[],l="LABEL"!==n.el.tagName&&n.el.closest('label, [studio-form="label"]')?n.el.closest('label, [studio-form="label"]'):n.el;a.push(l),l.querySelectorAll("*").forEach((e=>a.push(e))),a.forEach((e=>e.classList.add("sf-suggested"))),h(t.afterButtonSuggestion)}(s,r)},e.sdk.clearSuggestedButton=function(e,t){o(e,t)}}function D(e){e.sdk.slideLogic.forEach((t=>{t.el.querySelectorAll("input").forEach((t=>{if("checkbox"!==t.type&&"radio"!==t.type)return;const o=t.closest('label, [studio-form="label"]')||t,s=[o];o.querySelectorAll("*").forEach((e=>s.push(e)));let r=t.hasAttribute("checked"),i=!1;"checkbox"===t.type&&(r?s.forEach((e=>e.classList.add("sf-selected"))):t.hasAttribute("required")?t.value="":t.value="off"),o.addEventListener("click",(()=>{if(!i){if(i=!0,setTimeout((()=>{i=!1}),1),"radio"===t.type){const o=[];e.elements.mask.querySelectorAll(`input[type="radio"][name="${t.name}"]`).forEach((e=>{e!==t&&o.push(e)}));const r=[];o.forEach((e=>{const o=e.closest('label, [studio-form="label"]')||t;r.push(o),o.querySelectorAll("*").forEach((e=>r.push(e)))})),e.elements.mask.querySelectorAll(`input[type="radio"][name="${t.name}"][value="${t.value}"]`).length>1&&console.warn(`StudioForm[${e.sdk.i}] -> radioCheckboxValueCorrector.ts: The radio input with the value "${t.value}" (Group: "${t.name}") is not unique!`,{selectedElements:s},{unselectedElements:r}),s.forEach((e=>e.classList.add("sf-selected"))),t.setAttribute("data-selected",""),r.forEach((e=>e.classList.remove("sf-selected"))),o.forEach((e=>e.removeAttribute("data-selected")))}"checkbox"===t.type&&(r?(s.forEach((e=>e.classList.remove("sf-selected"))),t.hasAttribute("required")?t.value="":t.value="off",r=!1):(s.forEach((e=>e.classList.add("sf-selected"))),t.value="on",r=!0))}}))}))}))}function P(e){e.modes.autoSwapFileUploadLabelText&&e.elements.mask.querySelectorAll('input[type="file"]').forEach((e=>{const t=document.querySelector(`[for="${e.id}"]`);if(!t)return;if("true"!==(t.getAttribute("data-swap-text")||"true"))return;const o=t?.innerHTML,s=[t,e];t.childNodes.forEach((e=>s.push(e))),e.addEventListener("change",(r=>{const i=e.files?.[0],n=t.getAttribute("data-swap-prefix")||"";i?(t.innerHTML=n+i.name,s.forEach((e=>e?.classList?.add("sf-uploaded")))):(t.innerHTML=o,s.forEach((e=>e?.classList?.remove("sf-uploaded"))))}))}))}function I(e){D(e),P(e);const t=e.view.eventsFunctionArrays;g(e,"Next"),g(e,"Prev"),g(e,"Submit"),e.sdk.next=(o={})=>{h(t.onNext);return N(e.sdk.i,o)},e.sdk.prev=(o={})=>{h(t.onPrev);return M(e.sdk.i,o)},e.sdk.submit=async(o={})=>{h(t.onSubmit);return await B(e.sdk.i,o)},C(e),e.sdk.slideLogic.forEach((t=>{t.btns&&t.btns.forEach((t=>t.el.addEventListener("click",(()=>{e.sdk.next({btn:t})}))))})),e.elements.nextBtns.forEach((t=>t.addEventListener("click",(()=>{e.sdk.next()})))),e.elements.prevBtns.forEach((t=>{c(t),t.addEventListener("click",(()=>{e.sdk.prev()}))}))}function O(e,l){const d=R[e],u=l.currentSlideId,c=l.nextSlideId,m=l.isSubmit;if(l.doNotAnimate)return;if("number"!=typeof u)throw new Error(`StudioForm[${d.sdk.i}] -> animate.ts -> default: options.currentSlideId is not a number!`);if("number"!=typeof c&&!0!==m)throw new Error(`StudioForm[${d.sdk.i}] -> animate.ts -> default: options.nextSlideId or options.isSubmit are not defined!`);if(u===c)return void console.warn(`StudioForm[${d.sdk.i}] -> animate.ts -> default: options.currentSlideId (${u}) and options.nextSlideId (${c}) are equal!`);const p=!0!==m?d.sdk.slideLogic[u]:{el:d.elements.mask},g=!0!==m?d.sdk.slideLogic[c]:{el:d.elements.successMsg},b=!0!==m?d.elements.mask:d.elements.wrapper,k=b.closest(["overflow-wrapper","overflow","overflow-hidden"].map((e=>`[studio-form="${e}"]`)).join(", "))||b.closest("section")||d.elements.wrapper,y=p.el.offsetWidth,v=p.el.offsetHeight;g.el.style.display=!0===m?"block":"";const S=g.el.offsetWidth,A=g.el.offsetHeight;g.el.style.display="none";let w=y===S&&v===A,E=parseFloat(p.el.getAttribute("data-slide-equal-dimensions-multiplier")||d.elements.wrapper.getAttribute("data-slide-equal-dimensions-multiplier")||a.toString());E=isNaN(E)?0:E;const x=!0!==m&&u>c;let q=parseFloat(p.el.getAttribute("data-slide-opacity")||d.elements.wrapper.getAttribute("data-slide-opacity")||o.toString());q=isNaN(q)?0:q;let $=parseFloat(g.el.getAttribute("data-slide-opacity")||d.elements.wrapper.getAttribute("data-slide-opacity")||o.toString());$=isNaN($)?0:$;let F=parseFloat(g.el.getAttribute("data-slide-z-index")||d.elements.wrapper.getAttribute("data-slide-z-index"));F=isNaN(F)?1:F;let L=parseFloat(p.el.getAttribute("data-slide-move-current")||d.elements.wrapper.getAttribute("data-slide-move-current")||s.toString());L=isNaN(L)?1:L;let T=parseFloat(p.el.getAttribute("data-slide-time-sec-current")||d.elements.wrapper.getAttribute("data-slide-time-sec-current")||i.toString());T=isNaN(T)?1:T;let N=parseFloat(p.el.getAttribute("data-slide-move-next")||d.elements.wrapper.getAttribute("data-slide-move-next")||r.toString());N=isNaN(N)?1:N;let M=parseFloat(p.el.getAttribute("data-slide-time-sec-next")||d.elements.wrapper.getAttribute("data-slide-time-sec-next")||n.toString());M=isNaN(M)?1:M;let B=g.el.getAttribute("data-slide-direction")||d.elements.wrapper.getAttribute("data-slide-direction");const C="off"===B?0:1;B=parseFloat(B),B=isNaN(B)?t:B,B=Math.min(Math.max(B,0),359.9999)-(x?-180:0);const D=(B-90)*Math.PI/180,P=y*L*Math.cos(D)*-1*C,I=v*L*Math.sin(D)*-1*C,O=S*N*Math.cos(D)*C,H=A*N*Math.sin(D)*C;C||(w=!1),d.sdk.animationData={...d.sdk.animationData,currentElement:p.el,nextElement:g.el,parentElement:b,overflowElement:k,direction:B,angle:D,opacityNext:$,opacityCurrent:q,zIndex:F,xCurrent:P,yCurrent:I,currentWidth:y,currentHeight:v,moveCurrentMultiplier:L,timeCurrent:T,xNext:O,yNext:H,nextWidth:S,nextHeight:A,moveNextMultiplier:N,timeNext:T,equalDimensions:w,equalDimensionsMulitplier:E,timeBoth:T*(w?E:1)+M};const j=f(p.el,d,{...l,attributeReferenceElement:p.el}),U=gsap.timeline(),V=d.view.gsapTimeline;V.isRunning&&(V.tl.progress(1),V.tl.clear()),V.tl=U,V.isRunning=!0,U.set(k,{overflow:"hidden"}),U.set(b,{width:y,height:v,position:"relative"}),U.set(p.el,{x:0,y:0,opacity:1,display:"",position:"absolute",left:0,top:0,right:0}),U.set(g.el,{x:O,y:H,opacity:$,zIndex:F,display:!0!==m?"":"block",position:"absolute",left:0,top:0,right:0}),U.to(p.el,{duration:T,x:P,y:I,opacity:q}),U.to(b,{duration:T,width:Math.max(y,S),height:Math.max(v,A)},"<"),U.to(g.el,{duration:M,x:0,y:0,opacity:1},`<+=${w?T*E:T}`),U.to(b,{duration:M,width:S,height:A},"<"),U.set(p.el,{x:"",y:"",opacity:"",display:"none",position:"",left:"",top:"",right:"",bottom:""}),U.set(g.el,{x:"",y:"",opacity:"",zIndex:"",position:"",left:"",top:"",right:"",bottom:""}),U.set(b,{width:"",height:"",position:""}),U.set(k,{overflow:""}),U.call((()=>{V.isRunning=void 0})),d.view.progress(l),d.modes.scrollIfTopNotVisible&&j||setTimeout((()=>{d.sdk.scrollTo({...l,attributeReferenceElement:g.el})}),v<A?1e3*T+1:1e3*d.sdk.animationData.timeBoth+1),d.addSfActive(c),d.removeSfActive(u),h(d.view.eventsFunctionArrays.afterAnimate)}function H(e,t){const o=R[e];if(o.elements.progress.bars.length<1&&o.elements.progress.currentSlides.length<1&&o.elements.progress.minMaxSlides.length<1&&o.elements.progress.minSlides.length<1&&o.elements.progress.maxSlides.length<1&&!o.modes.calculateProgress)return;o.model.generateProgressData();const s=o.sdk.pathProgressData,r=o.sdk.animationData;if("object"!=typeof s)throw new Error(`StudioForm[${o.sdk.i}] -> animateProgress.ts -> default: pathProgressData is not an object!`);let i=[];[o.elements.progress.bars,document.querySelectorAll(`[studio-form-${o.sdk.i}="progress-bar"`)].forEach((e=>e.forEach((e=>i.push(e))))),i.forEach((e=>{const t=gsap.timeline(),i=o.view.gsapProgressBarTimeline;i.isRunning&&i.tl.clear(),i.tl=t,i.isRunning=!0;const n=e.getAttribute("data-axis")||"x",a=n.indexOf("x")>-1,l=n.indexOf("y")>-1,d={duration:r.timeBoth,width:a?(!0===o.sdk.isSubmitted?100:s.longest.percentage)+"%":"",height:l?(!0===o.sdk.isSubmitted?100:s.longest.percentage)+"%":""};t.to(e,d),t.call((()=>{i.isRunning=void 0}))})),o.elements.progress.currentSlides.forEach((e=>{e.innerHTML=s.longest.walked})),o.elements.progress.minSlides.forEach((e=>{e.innerHTML=s.shortest.path})),o.elements.progress.maxSlides.forEach((e=>{e.innerHTML=s.longest.path})),o.elements.progress.minMaxSlides.forEach((e=>{const t=s.longest.path>s.shortest.path?s.shortest.path+" - "+s.longest.path:s.longest.path;e.innerHTML=t}))}function j(t,o){const s=R[t];if(!1===o.scrollToTarget||!s.modes.scrollToTarget)return;const r=s.elements.wrapper.closest(["window-scroll"].map((e=>`[studio-form="${e}"]`)).join(", ")),i=r||window,n=p(s,o);let a,l=n.target.getBoundingClientRect().top-(r?r.getBoundingClientRect().top:0)+(r?r.scrollTop:window.scrollY)-n.offset;function d(){(r?Math.floor(r.scrollTop)+1>=l&&Math.ceil(r.scrollTop)-1<=l:Math.floor(window.scrollY)+1>=l&&Math.ceil(window.scrollY)-1<=l)&&(i.removeEventListener("scroll",d),clearTimeout(a),setTimeout((()=>{"function"==typeof o.callback&&o.callback(!0)}),1))}l=Math.max(l,0),i.addEventListener("scroll",d),a=setTimeout((function(){i.removeEventListener("scroll",d),"function"==typeof o.callback&&o.callback(!1),console.warn(`StudioForm[${s.sdk.i}] -> anchor.ts -> default -> setTimeout() callback: Scrolling operation timed out.`,{y:l,target:n.target,offset:n.offset})}),1e3*e),i.scrollTo({top:l,behavior:"smooth"}),s.sdk.animationData.scrollToY=l,s.sdk.animationData.scrollToTarget=n.target,s.sdk.animationData.scrollToOffset=n.offset,s.sdk.animationData.scrollToContainer=i}function U(e,t){const o=R[e];if(t.length<1)return void console.warn(`StudioForm[${o.sdk.i}] -> required.ts -> default: The supplied data is empty!`);const s=t[0].el.closest('label, [studio-form="label"]')||t[0].el,r=f(s,o,{attributeReferenceElement:s},!0);function i(){try{t[0].el.reportValidity()}catch(e){console.warn(`StudioForm[${o.sdk.i}] -> required.ts -> default: data[0].el.reportValidity() produces unexpected error!`,e)}}(o.modes.scrollOnRequirementsError&&!r||o.modes.forceScrollOnRequirementsError)&&o.sdk.scrollTo({target:s,attributeReferenceElement:o.sdk.slideLogic[o.sdk.slideLogic.length-1].el,callback:e=>{o.modes.nativeReportVadility&&e&&i()}}),o.modes.nativeReportVadility&&r&&!o.modes.forceScrollOnRequirementsError&&i(),setTimeout((()=>{t.forEach((e=>{const t=e.el.closest('label, [studio-form="label"]')||e.el,o=[t];t.querySelectorAll("*").forEach((e=>o.push(e))),o.forEach((e=>e.classList.add("sf-required")))})),document.body.addEventListener("click",(function(){t.forEach((e=>{const t=e.el.closest('label, [studio-form="label"]')||e.el,o=[t];t.querySelectorAll("*").forEach((e=>o.push(e))),o.forEach((e=>e.classList.remove("sf-required")))}))}),{once:!0})}),1),h(o.view.eventsFunctionArrays.afterRenderRequirements)}function V(e){function t(t,o){const s=e.elements.wrapper.querySelectorAll(`[studio-form="active-${t}"]`),r=document.querySelectorAll(`[studio-form-${e.sdk.i}="active-${t}"]`),i=[];[s,r].forEach((e=>{e.forEach((e=>{i.push(e),e.childNodes.forEach((e=>i.push(e)))}))})),i.forEach((e=>e.classList[o]("sf-active")))}e.addSfActive=e=>{t(e,"add")},e.removeSfActive=e=>{t(e,"remove")},e.addSfActive(0)}function W(e){T(e),e.model.generateSlideLogic(),V(e),e.view.progress=function(t={}){H(e.sdk.i)},e.view.progress(),e.sdk.scrollTo=function(t={}){j(e.sdk.i,t)};const t=e.view.eventsFunctionArrays;g(e,"Animate"),e.view.animate=function(o={}){h(t.onAnimate),O(e.sdk.i,o)},g(e,"RenderRequirements"),e.view.renderRequirements=function(o=[]){h(t.onRenderRequirements),U(e.sdk.i,o)},e.sdk.slideLogic.forEach((e=>{e.el.style.display="none"})),e.sdk.slideLogic[0].el.style.display="",I(e)}function z(){if(void 0!==window.StudioForm)return void console.warn("StudioForm -> controller.ts -> main: Studio Form is being loaded multiple times. However, the functionality should not be affected.");const e=[];document.querySelectorAll('[studio-form="wrapper"]').forEach(((t,o)=>{L(t,o),W(R[o]),R[o].modes.simpleSdk?e.push(R[o].sdk):e.push(R[o])})),window.StudioForm=e}function J(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",z):z()}"undefined"==typeof gsap?function(e="foo.js",t){new Promise(((t,o)=>{const s=document.createElement("script");document.head.appendChild(s),s.onload=t,s.onerror=o,s.async=!0,s.src=e})).then(t)}("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js",J):J();})()